\section{Les tables de la base de donn\'ees}
%Choix et justification des différents modules développés

\subsection{Pr\'esentation des tables}
Voici la pr\'esentation des diff\'erentes tables que nous avons \'etablie. Elles sont pr\'esent\'ees sous la forme \textit{Nom\_de\_la\_table(\'el\'ement1 type, \'el\'ement2 type, $\dots$}. Peu de description est fournie car, pour la plupart des tables, leur nom est vocateur. A noter que les tables ne sont pas du tout d\'efinitive et que ce qui est \'ecrit en \textit{italique} est optionnelle.\bigskip

\begin{itemize}
\item Destination(ID\_Dest integer,Nom\_Destination varchar2(20),Pays varchar2(20));\\
\item Hotel(ID\_Hotel integer, ID\_Etape integer,Nom\_Hotel varchar2(20),Addresse varchar2(20), ID\_Classe integer, capac\_S integer, capac\_D integer);\\
\item Classe\_Hotel(ID\_Classe integer, Prix\_S float, Prix\_D float);\\
\item Circuit(ID\_Circuit integer,Nom\_Circuit varchar2(20));\\
\item Assoc\_Dest\_Circuit(ID\_Dest integer, ID\_Circuit integer);\\
\item Etape(ID\_Etape integer,ID\_Circuit integer,Descriptif varchar2(50));\\
\item Sejour(ID\_Sejour integer, Duree integer, Description varchar2(50), Coeff float);\\
\item Assoc\_Prix\_Sejour\_Circuit(ID\_Circuit integer, ID\_Sejour integer, Prix float);\\
\item Vol(ID\_Vol integer, ID\_Dest integer, Prix\_Enfant float, Prix\_Adulte float);\\
\item Reservation(ID\_Client integer,ID\_Hotel integer,Date\_Reservation date);\\ 
\item Client(ID\_Client integer,Addresse varchar2(50),Tel varchar2(10), Nom varchar2(20), Prenom varchar2(20), Age integer, Email varchar2(30), Classe\_sociale varchar2(20), ID\_Dest\_Preferee integer, Investissement\_Moyen float);\\

\item Facturation(ID\_Facture integer, Date\_Facture date, Adresse\_Client varchar2(50), Tel varchar2(10), Nom varchar2(20), Prenom varchar2(20), Nom\_Dest varchar2(20), Pays\_Dest varchar2(20), Nom\_Hotel varchar2(20), Adresse\_Hotel varchar2(50), Classe\_Hotel number, Prix\_S integer, Prix\_D integer, Nom\_circuit varchar2(20), Duree\_sejour integer, Prix\_Circuit float, Prix\_Vol\_Enfant float, prix\_Vol\_Adulte float,Nb\_Adulte number,Nb\_Enfant number, Description\_Sejour varchar2(50), Coeff\_Sejour float, Total\_Vol float, Total\_Hotel float,  Total\_Circuit float, Total\_Facture float, Age integer, Classe\_sociale varchar2(20), Dest\_Pref varchar2(20), Invest\_Moyen float);\\
\end{itemize}
\newpage

\subsection{Exemples de tables}

%%%%%%%%%%% Destination %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|c|}
\hline
\multicolumn{3}{|c|}{Destination}\\
\hline
ID\_dest& Nom & Pays \\
\hline
1 & Bordeaux& France\\
\hline
2 & Valence& France\\
\hline
3 & Valence& Espagne\\
\hline
4 & Barcelone& Espagne\\
\hline
5 & Paris& France\\
\hline
\end{tabular}
\end{center}
\caption{Table Destination}
\end{table}

%%%%%%%%%%% Table Hotel %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|c|c|c|c|c|}
\hline
\multicolumn{7}{|c|}{Hotel}\\
\hline
ID\_hotel& ID\_Circuit& Nom & Adresse &ID\_classe & Capac\_S & Capac\_D  \\
\hline
1 & 1& California&rue de LA& 4 & 20 & 10\\
\hline
2 & 4& L'h\^ote&Rue du serveur& 2 & 10 & 10\\
\hline
3 & 3& Herie&Rue de la blague& 5 & 40 & 35\\
\hline
\end{tabular}
\end{center}
\caption{Table Hotel}
\end{table}

%%%%%%%%%%% Table Classe Hotel %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|c|}
\hline
\multicolumn{3}{|c|}{Classe\_Hotel}\\
\hline
ID\_classe& Prix\_S & Prix\_D \\
\hline
1 & 10.00& 20.00\\
\hline
2 & 25.00& 45.00\\
\hline
3 & 30.00& 60.00\\
\hline
4 &  45.00& 80.00\\
\hline
5 & 60.00& 80.00\\
\hline
\end{tabular}
\end{center}
\caption{Table Classe\_Hotel}
\end{table}

%%%%%%%%%%% Table Circuit %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|}
\hline
\multicolumn{2}{|c|}{Circuit}\\
\hline
ID\_circuit& nom \\
\hline
1 & Mont\_Fuji\\
\hline
2 & Catalogne\\
\hline
3 & Monaco\\
\hline
4 &  Hockenheim\\
\hline
\end{tabular}
\end{center}
\caption{Table Circuit}
\end{table}
\newpage

%%%%%%%%%%% Table Assoc_Dest_Circuit %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|}
\hline
\multicolumn{2}{|c|}{Assoc\_Dest\_Circuit}\\
\hline
ID\_Dest& ID\_Circuit \\
\hline
1 & 4\\
\hline
2 & 3\\
\hline
2 & 1\\
\hline
\end{tabular}
\end{center}
\caption{Table Assoc\_Dest\_Circuit}
\end{table}

%%%%%%%%%%% Table Sejour %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|c|c|}
\hline
\multicolumn{4}{|c|}{Sejour}\\
\hline
ID\_Sejour& Duree & Description& Coeff\\
\hline
1 & 10& Courte duree & 1.5\\
\hline
2 & 21& Longue duree &1.0\\
\hline
\end{tabular}
\end{center}
\caption{Table S\'ejour}
\end{table}

%%%%%%%%%%% Table Assoc_Prix_Sejour_Circuit %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|c|}
\hline
\multicolumn{3}{|c|}{Assoc\_Prix\_Sejour\_Circuit}\\
\hline
ID\_Circuit& ID\_Sejour & Prix\\
\hline
1 & 2& 100.00\\
\hline
2 & 2& 115.00\\
\hline
2 & 4& 50.00\\
\hline
4 & 3& 65.00\\
\hline
\end{tabular}
\end{center}
\caption{Table Assoc\_Prix\_S\'ejour\_Circuit}
\end{table}
\newpage
%%%%%%%%%%% Table Vol %%%%%%%%%%%

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|c|c|}
\hline
\multicolumn{4}{|c|}{Vol}\\
\hline
ID\_Vol& ID\_dest & Prix\_Enfant& Prix\_Adulte\\
\hline
1 & 1& 10.00 & 20.00\\
\hline
2 & 1& 15.00& 40.00\\
\hline
3 & 2& 9.00& 21.00\\
\hline
4 & 4& 12.00& 24.00\\
\hline
\end{tabular}
\end{center}
\caption{Table Vol}
\end{table}

%%%%%%%%%%% Table Client %%%%%%%%%%%

\begin{table}[h]
ID\_C est l'identifiant client,
C\_S est classe sociale,
ID\_DP est la destination pr\'ef\'er\'ee du client,
\textbf{Le nom de la destination pr\'ef\'er\'ee du client a \'et\'e enlev\'ee.}
I\_Moyen est l'investissement moyen du client,
\bigskip

\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|}
\hline
\multicolumn{10}{|c|}{Client}\\
\hline
ID\_C& Addr& Tel & Nom & Prenom & Age & Email&C\_S & ID\_DP &I\_Moyen\\
\hline
1 &Rue de la plage&0746573894&Dupont&Raoul&67 &cal@hotmail.fr&Retrait\'e&2&1859.87\\
\hline
2 &Rue du geek&0556654558&Dupont&Paul&21 &paul@zik.net&Etudiant&1&150.78\\
\hline
3 &Rue de la soif&0557348875&Durand&Patrick&30 &dudul@bad.com&Ing\'enieur&2&179.78\\
\hline
\end{tabular}
\caption{Table Client}
\end{table}

%%%%%%%%%%%Table Reservation%%%%%%%%%%%%%%%

\begin{table}[h]
La table \textbf{Reservation} est une table temporaire qui nous permet de pouvoir s\'electionner plusieurs h\^otels lors du choix d'un circuit pour un h\^otel par un client. Une fois la commande saisie et la facture entre dans la base, les lignes correspondant au client sont supprim\'ees.
\begin{center}
\begin{tabular}{|l|c|c|}
\hline
\multicolumn{3}{|c|}{Reservation}\\
\hline
ID\_Client& ID\_Hotel&Date\_Res\\
\hline
1 & 4&3/3/2008\\
\hline
1 & 3&9/8/2008\\
\hline
1 & 5&7/2/2008\\
\hline
2 & 1&5/3/2008\\
\hline
2&4&2/7/2008\\
\hline
2 & 2&1/5/2008\\
\hline
\end{tabular}
\end{center}
\caption{Table R\'eservation}
\end{table}

%\paragraph{}
%Cette table est une table temporaire qui nous permet de pouvoir s\'electionner plusieurs h\^otels lors du choix d'un circuit pour un h\^otel par un client. Une fois la commande saisie et la facture entre dans la base, les lignes correspondant au client sont supprim\'ees.

%%%%%%%%%%% Table Facturation %%%%%%%%%%%

%%%%%%%%%%%%Table LOG%%%%%%%%%%%%%%%%%%%
%\paragraph{} La table LOG est une fonctionnalit\'e que nous avons int\'egr\'e dans notre application. Elle a pour but d'enregistrer les actions des op\'erateurs sur la base de donn\'ee (afin d'effectuer des statistiques bien sur ...)\\
%LOG(madate timestamp,utilisateur varchar2(50),action varchar2(20),cible varchar2(50));\\
%Le type timestamp repr\'esentant \'a la fois la date et l'heure, ce champs nous servira de cl\'e primaire.

\begin{table}[h]
 La table \textbf{LOG} est une fonctionnalit\'e que nous avons int\'egr\'e dans notre application. Elle a pour but d'enregistrer les actions des op\'erateurs sur la base de donn\'ee (afin d'effectuer des statistiques bien sur ...)\\
LOG(madate timestamp,utilisateur varchar2(50),action varchar2(20),cible varchar2(50));\\
Le type timestamp repr\'esentant \'a la fois la date et l'heure, ce champs nous servira de cl\'e primaire.
\begin{center}
\begin{tabular}{|l|c|c|c|}
\hline
\multicolumn{4}{|c|}{LOG}\\
\hline
madate&utilisateur&action&cible\\
\hline
1 &Lagarde C. 1&UPDATE&CLients\\
\hline
2 &Petit Nicolas&DELETE&R\'eservation\\
\hline
3 &Laporte Bernard&INSERT&Vol\\
\hline
\end{tabular}
\end{center}
\caption{Exemple de table LOG}
\end{table}
\newpage

